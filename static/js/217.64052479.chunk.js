"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[217],{44:function(e,t){t.Z={baseUrl:"https://api.themoviedb.org/3/",key:"5071804c0f5e4405f730996569c44316"}},217:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(439),o=n(791),a=n(44),c=a.Z.baseUrl,i=a.Z.key,s=function(e){var t="";return t=e.includes(" ")?e.split(" ").join("+"):e,fetch("".concat(c,"search/movie?api_key=").concat(i,"&query=").concat(t,"&include_adult=true"))},u=n(87),l=n(689),_="MoviesPage_movies__input__2E8Cg",f="MoviesPage_movies__link__K4+JG",h="MoviesPage_movies__list__TU3I1",m=n(184),d=function(){var e=(0,o.useState)(null),t=(0,r.Z)(e,2),n=t[0],a=t[1],c=(0,o.useState)(""),i=(0,r.Z)(c,2),d=i[0],p=i[1],v=(0,u.lr)(),k=(0,r.Z)(v,2),g=k[0],j=k[1],y=g.get("query"),w=(0,l.TH)();return(0,o.useEffect)((function(){y?(p("loading"),s(y).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){a(e.results),p("ok")})).catch((function(e){console.error(e),p("error")}))):p()}),[y]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;return j(""!==t?{query:t}:"")},placeholder:"Search",className:_}),(0,m.jsx)("ul",{className:h,children:"ok"===d&&n.map((function(e){return(0,m.jsx)("li",{children:(0,m.jsx)(u.rU,{to:"/movies/".concat(e.id),state:{from:w},className:f,children:e.original_title})},e.id)}))})]})}}}]);
//# sourceMappingURL=217.64052479.chunk.js.map