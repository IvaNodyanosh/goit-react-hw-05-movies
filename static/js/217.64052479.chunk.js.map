{"version":3,"file":"static/js/217.64052479.chunk.js","mappings":"mIAKA,IALsB,CACpBA,QAAS,gCACTC,IAAK,mC,iGCACD,EAAiBE,EAAAA,EAAAA,QAARD,EAAQC,EAAAA,EAAAA,IAiBzB,EAfqB,SAAAC,GACnB,IAAIC,EAAI,GAQN,OAJEA,EADED,EAAWE,SAAS,KAClBF,EAAWG,MAAM,KAAKC,KAAK,KAE3BJ,EAECK,MAAM,GAADC,OACPT,EAAO,yBAAAS,OAAwBR,EAAG,WAAAQ,OAAUL,EAAC,uBAGtD,E,iBChBA,EAAgC,kCAAhC,EAAiF,iCAAjF,EAAiI,iC,SCiEjI,EA5DmB,WACjB,IAAAM,GAA4BC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAAoCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAzCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAT,EAAAA,EAAAA,GAAAO,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAE9BnB,EAAaoB,EAAaE,IAAI,SAC9BC,GAAWC,EAAAA,EAAAA,MAkCjB,OAxBAC,EAAAA,EAAAA,YAAU,WACJzB,GACFgB,EAAc,WACdU,EAAa1B,GACV2B,MAAK,SAAAC,GACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhB,MAAM,IAAIC,MAAMH,EAASI,OAI7B,IACCL,MAAK,SAAAM,GACJrB,EAAUqB,EAAKC,SACflB,EAAc,KAChB,IACCmB,OAAM,SAAAC,GACLC,QAAQD,MAAMA,GACdpB,EAAc,QAChB,KAEFA,GAEJ,GAAG,CAAChB,KAGFsC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOC,KAAK,OAAOC,SAlCN,SAAAC,GACf,IAAMC,EAAQD,EAAEE,OAAOD,MACvB,OACSxB,EADK,KAAVwB,EACqB,CAAEE,MAAOF,GAEX,GACzB,EA4B2CG,YAAY,SAASC,UAAWC,KAEvET,EAAAA,EAAAA,KAAA,MAAIQ,UAAWC,EAAiBV,SACd,OAAfzB,GACCJ,EAAOwC,KAAI,SAAAC,GACT,OACEX,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACY,EAAAA,GAAI,CAACC,GAAE,WAAAhD,OAAa8C,EAAMG,IAAMC,MAAO,CAAEC,KAAMlC,GAAY0B,UAAWC,EAAiBV,SACrFY,EAAMM,kBAFFN,EAAMG,GAMnB,QAIV,C","sources":["components/api/parametersApi.js","components/api/function/searchMovies.js","webpack://react-homework-template/./src/pages/Movies/MoviesPage.module.css?251f","pages/Movies/MoviesPage.jsx"],"sourcesContent":["const parametersApi = {\n  baseUrl: 'https://api.themoviedb.org/3/',\n  key: '5071804c0f5e4405f730996569c44316',\n};\n\nexport default parametersApi;\n","import parametersApi from '../parametersApi';\n\nconst { baseUrl, key } = parametersApi;\n\nconst searchMovies = parameters => {\n  let q = '';\n\n\n    if (parameters.includes(' ')) {\n      q = parameters.split(' ').join('+');\n    } else {\n      q = parameters;\n    }\n    return fetch(\n      `${baseUrl}search/movie?api_key=${key}&query=${q}&include_adult=true`\n    );\n  \n};\n\nexport default searchMovies;\n","// extracted by mini-css-extract-plugin\nexport default {\"movies__input\":\"MoviesPage_movies__input__2E8Cg\",\"movies__link\":\"MoviesPage_movies__link__K4+JG\",\"movies__list\":\"MoviesPage_movies__list__TU3I1\"};","import { useState, useEffect } from 'react';\nimport searchMovies from 'components/api/function/searchMovies';\nimport { Link } from 'react-router-dom';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport css from \"./MoviesPage.module.css\"\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState(null);\n  const [dataStatus, setDataStatus] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const parameters = searchParams.get('query');\n  const location = useLocation();\n\n  const onChange = e => {\n    const value = e.target.value;\n    if (value !== '') {\n      return setSearchParams({ query: value });\n    }\n    return setSearchParams('');\n  };\n\n  useEffect(() => {\n    if (parameters) {\n      setDataStatus('loading');\n      searchMovies(parameters)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(response.status);\n          } else {\n            return response.json();\n          }\n        })\n        .then(data => {\n          setMovies(data.results);\n          setDataStatus('ok');\n        })\n        .catch(error => {\n          console.error(error);\n          setDataStatus('error');\n        });\n    } else {\n      setDataStatus();\n    }\n  }, [parameters]);\n\n  return (\n    <>\n      <input type=\"text\" onChange={onChange} placeholder='Search' className={css.movies__input} />\n\n      <ul className={css.movies__list}>\n        {dataStatus === 'ok' &&\n          movies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link to={`/movies/${movie.id}`} state={{ from: location }} className={css.movies__link}>\n                  {movie.original_title}\n                </Link>\n              </li>\n            );\n          })}\n      </ul>\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["baseUrl","key","parametersApi","parameters","q","includes","split","join","fetch","concat","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","dataStatus","setDataStatus","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","location","useLocation","useEffect","searchMovies","then","response","ok","json","Error","status","data","results","catch","error","console","_jsxs","_Fragment","children","_jsx","type","onChange","e","value","target","query","placeholder","className","css","map","movie","Link","to","id","state","from","original_title"],"sourceRoot":""}